const{Fieldtype:K,IndexFieldtype:W,FieldtypeMixin:S,HasActionsMixin:L,HasInputOptionsMixin:Q,HasPreferencesMixin:J,IndexFieldtypeMixin:k,InlineEditForm:X,DateFormatter:Y,ItemActions:Z,RelatedItem:$,RestoreRevision:ee,RevisionHistory:te,RevisionPreview:re,SaveButtonOptions:se,SortableList:ie,requireElevatedSession:oe,requireElevatedSessionIf:ne,clone:ae,deepClone:le,resetValuesFromResponse:ce}=__STATAMIC__.core,R=window.Vue,{BaseTransition:de,BaseTransitionPropsValidators:ue,Comment:he,DeprecationTypes:pe,EffectScope:me,ErrorCodes:fe,ErrorTypeStrings:ve,Fragment:C,KeepAlive:_e,ReactiveEffect:ge,Static:we,Suspense:ye,Teleport:xe,Text:Se,TrackOpTypes:ke,Transition:Re,TransitionGroup:Ce,TriggerOpTypes:Pe,VueElement:Te,__esModule:be,assertNumber:Me,callWithAsyncErrorHandling:Ee,callWithErrorHandling:Ae,camelize:Ie,capitalize:Ve,cloneVNode:Oe,compatUtils:Fe,compile:De,computed:He,createApp:ze,createBlock:l,createCommentVNode:h,createElementBlock:n,createElementVNode:u,createHydrationRenderer:Be,createPropsRestProxy:Ne,createRenderer:Ge,createSSRApp:Ue,createSlots:je,createStaticVNode:qe,createTextVNode:d,createVNode:_,customRef:Ke,defineAsyncComponent:We,defineComponent:Le,defineCustomElement:Qe,defineEmits:Je,defineExpose:Xe,defineModel:Ye,defineOptions:Ze,defineProps:$e,defineSSRCustomElement:et,defineSlots:tt,devtools:rt,effect:st,effectScope:it,getCurrentInstance:ot,getCurrentScope:nt,getCurrentWatcher:at,getTransitionRawChildren:lt,guardReactiveProps:ct,h:dt,handleError:ut,hasInjectionContext:ht,hydrate:pt,hydrateOnIdle:mt,hydrateOnInteraction:ft,hydrateOnMediaQuery:vt,hydrateOnVisible:_t,initCustomFormatter:gt,initDirectivesForSSR:wt,inject:yt,isMemoSame:xt,isProxy:St,isReactive:kt,isReadonly:Rt,isRef:Ct,isRuntimeOnly:Pt,isShallow:Tt,isVNode:bt,markRaw:Mt,mergeDefaults:Et,mergeModels:At,mergeProps:It,nextTick:Vt,nodeOps:Ot,normalizeClass:Ft,normalizeProps:Dt,normalizeStyle:Ht,onActivated:zt,onBeforeMount:Bt,onBeforeUnmount:Nt,onBeforeUpdate:Gt,onDeactivated:Ut,onErrorCaptured:jt,onMounted:qt,onRenderTracked:Kt,onRenderTriggered:Wt,onScopeDispose:Lt,onServerPrefetch:Qt,onUnmounted:Jt,onUpdated:Xt,onWatcherCleanup:Yt,openBlock:t,patchProp:Zt,popScopeId:$t,provide:er,proxyRefs:tr,pushScopeId:rr,queuePostFlushCb:sr,reactive:ir,readonly:or,ref:nr,registerRuntimeCompiler:ar,render:lr,renderList:cr,renderSlot:dr,resolveComponent:g,resolveDirective:P,resolveDynamicComponent:ur,resolveFilter:hr,resolveTransitionHooks:pr,setBlockTracking:mr,setDevtoolsHook:fr,setTransitionHooks:vr,shallowReactive:_r,shallowReadonly:gr,shallowRef:wr,ssrContextKey:yr,ssrUtils:xr,stop:Sr,toDisplayString:i,toHandlerKey:kr,toHandlers:Rr,toRaw:Cr,toRef:Pr,toRefs:Tr,toValue:br,transformVNodeArgs:Mr,triggerRef:Er,unref:Ar,useAttrs:Ir,useCssModule:Vr,useCssVars:Or,useHost:Fr,useId:Dr,useModel:Hr,useSSRContext:zr,useShadowRoot:Br,useSlots:Nr,useTemplateRef:Gr,useTransitionState:Ur,vModelCheckbox:jr,vModelDynamic:qr,vModelRadio:Kr,vModelSelect:Wr,vModelText:Lr,vShow:Qr,version:Jr,warn:Xr,watch:Yr,watchEffect:Zr,watchPostEffect:$r,watchSyncEffect:es,withAsyncContext:ts,withCtx:a,withDefaults:rs,withDirectives:y,withKeys:ss,withMemo:is,withModifiers:os,withScopeId:ns}=R,x=(c,r)=>{const p=c.__vccOpts||c;for(const[m,s]of r)p[m]=s;return p},T={mixins:[S],data(){return{showingPreview:!1}},computed:{generateOnUpload(){return this.meta?.generate_on_upload},showPreview(){return this.config?.preview_placeholder},isAsset(){return this.meta?.is_asset||!1},isSupported(){return this.meta?.is_supported||!1},isGenerated(){return!!this.hash},uri(){return this.meta?.uri},hash(){return this.meta?.hash},provider(){return this.meta?.provider},size(){return this.meta?.size}},methods:{t(c,r={}){return __(`statamic-placeholders::fieldtypes.placeholder.field.${c}`,r)}}},b={class:"flex flex-column gap-2"},M={key:0,class:"flex gap-2"},E=["src"],A={key:1,class:"flex flex-wrap gap-4"},I={class:"grow-0 shrink-0 relative group/thumb inline-block"},V=["src"],O={class:"absolute top-0 rtl:left-0 ltr:right-0 opacity-0 group-hover/thumb:opacity-50"},F={class:"grow shrink basis-40 overflow-hidden text-xs text-gray-500 font-mono"},D={key:0},H={key:1,class:"truncate"},z={key:2};function B(c,r,p,m,s,e){const o=g("ui-badge"),f=g("ui-button"),w=P("tooltip");return t(),n("div",b,[e.isAsset?e.isSupported?!e.isGenerated&&e.generateOnUpload?(t(),l(o,{key:2,pill:"",icon:"time-clock",color:"white"},{default:a(()=>[d(i(e.t("not_yet_generated")),1)]),_:1})):e.isGenerated?e.isGenerated&&!e.showPreview?(t(),l(o,{key:4,pill:"",icon:"checkmark",color:"green"},{default:a(()=>[d(i(e.t("generated")),1)]),_:1})):e.isGenerated&&e.showPreview?(t(),n(C,{key:5},[s.showingPreview?(t(),n("div",A,[u("div",I,[u("img",{src:e.uri,class:"btn p-0 h-8 min-h-40 w-auto rounded-lg cursor-pointer",onClick:r[2]||(r[2]=v=>s.showingPreview=!1)},null,8,V),u("div",O,[_(f,{text:"Ã—",variant:"ghost",style:{"--tw-bg-opacity":"0"},"aria-label":e.t("hide_preview"),onClick:r[3]||(r[3]=v=>s.showingPreview=!1)},null,8,["aria-label"])])]),u("div",F,[e.provider?(t(),n("div",D,i(e.provider.name),1)):h("",!0),e.hash?(t(),n("div",H,i(e.hash),1)):h("",!0),e.size?(t(),n("div",z,i(e.size),1)):h("",!0)])])):(t(),n("div",M,[_(f,{size:"sm",class:"p-0! overflow-hidden w-auto",onClick:r[0]||(r[0]=v=>s.showingPreview=!s.showingPreview)},{default:a(()=>[u("img",{src:e.uri,class:"h-8"},null,8,E)]),_:1}),_(f,{size:"sm",onClick:r[1]||(r[1]=v=>s.showingPreview=!s.showingPreview)},{default:a(()=>[d(i(e.t(s.showingPreview?"hide_preview_btn":"show_preview_btn")),1)]),_:1})]))],64)):h("",!0):(t(),l(o,{key:3,pill:"",icon:"time-clock",color:"white"},{default:a(()=>[d(i(e.t("generated_on_request")),1)]),_:1})):y((t(),l(o,{key:1,pill:"",icon:"focus",color:"white"},{default:a(()=>[d(i(e.t("ungenerated")),1)]),_:1})),[[w,e.t("ungenerated_no_image")]]):y((t(),l(o,{key:0,pill:"",icon:"focus",color:"white"},{default:a(()=>[d(i(e.t("ungenerated")),1)]),_:1})),[[w,e.t("unmirrored_no_asset")]])])}const N=x(T,[["render",B]]),G={mixins:[k],computed:{extension(){return this.values.extension.toLowerCase()},isAsset(){return this.values.basename&&this.values.extension},isSupported(){return["jpg","jpeg","png","gif","webp","avif","svg"].includes(this.extension)},isGenerated(){return Object.keys(this.value||{}).length>0}}},U={key:0,class:"flex items-center"};function j(c,r,p,m,s,e){const o=g("ui-icon");return e.isAsset&&e.isSupported?(t(),n("div",U,[e.isGenerated?(t(),l(o,{key:0,name:"checkmark",class:"text-green-600"})):(t(),l(o,{key:1,name:"x-square",class:"text-gray-400 dark:text-gray-600"}))])):h("",!0)}const q=x(G,[["render",j]]);Statamic.$components.register("placeholder-fieldtype",N);Statamic.$components.register("placeholder-fieldtype-index",q);
